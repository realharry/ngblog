<div>

  <mat-toolbar class="ngblog-site-header" layout="row" color="primary">
    <mat-toolbar-row>
      <span style="font-weight: bold;">{{siteInfo.name}} - {{siteInfo.title}}</span>
      <span style="flex: 1 1 auto"></span>
      <!-- <span [hidden]="!isPaginationEnabled">
        <mat-chip-list>
          <button mat-icon-button color="accent" [disabled]="isInFirstPage" matTooltip="Previous Page" (click)="goToPreviousPage()">
            <mat-icon>keyboard_arrow_left</mat-icon>
          </button>
          <mat-chip color="accent" selected="true">{{pageIndicia}}</mat-chip>
          <button mat-icon-button color="accent" [disabled]="isInLastPage" matTooltip="Next Page" (click)="goToNextPage()">
            <mat-icon>keyboard_arrow_right</mat-icon>
          </button>
        </mat-chip-list>
      </span> -->
      <span>
        <button *ngIf="showWeeklyDigest" mat-icon-button color="" matTooltip="This Week" (click)="openWeeklyDigestPage()">
          <mat-icon>date_range</mat-icon>
        </button>
        <button *ngIf="showMonthlyDigest" mat-icon-button color="" matTooltip="This Month" (click)="openMonthlyDigestPage()">
          <mat-icon>event_note</mat-icon>
        </button>
        <button *ngIf="showAdminButton" mat-icon-button color="" matTooltip="Admin" (click)="openAdminHome()">
          <mat-icon>security</mat-icon>
        </button>
      </span>
    </mat-toolbar-row>
  </mat-toolbar>

  <div style="padding-top: 16px; padding-bottom: 16px;">
    <mat-accordion class="ngblog-entry-headers-align">

      <mat-expansion-panel *ngFor="let mde of docEntries; let i = index" [expanded]="step === i" (opened)="step = i" hideToggle="true">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <b>{{mde.title}}</b>
          </mat-panel-title>
          <mat-panel-description>
            {{mde.description}}
            <!-- <span *ngIf="step !== i" [matTooltip]="mde.getPermalink(hostUrl)" [style.font-weight]="(step === i) ? 'bold' : 'normal'">{{(mde.date) ? mde.date.toLocaleDateString() : ''}}</span> -->
            <span *ngIf="step === i" [style.font-weight]="'bold'">{{(mde.date) ? mde.date.toLocaleDateString() : ''}}</span>
            <span *ngIf="step !== i" [matTooltip]="mde.getPermalink(hostUrl)">{{(mde.date) ? mde.date.toLocaleDateString() : ''}}</span>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <!-- <common-mark-entry *ngIf="mde.skipDisplay == false" [markdown]="mde.markdownContent" [debug-enabled]="mde.debugEnabled" [renderer-options]="mde.rendererOptions"></common-mark-entry> -->
        <!-- <common-mark-entry *ngIf="mde.skipDisplay == false" [url]="mde.markdownUrl" [markdown]="mde.markdownContent" [debug-enabled]="mde.debugEnabled" [renderer-options]="mde.rendererOptions"></common-mark-entry> -->
        <!-- <common-mark-entry *ngIf="mde.skipDisplay == false" [delay]="delayInterval" [url]="mde.markdownUrl" [markdown]="mde.markdownContent" [debug-enabled]="mde.debugEnabled" [renderer-options]="mde.rendererOptions"></common-mark-entry> -->
        <!-- <common-mark-entry *ngIf="mde.skipDisplay == false" [delay]="(i === step)? 0 : delayInterval" [url]="mde.markdownUrl" [markdown]="mde.markdownContent" [debug-enabled]="mde.debugEnabled" [renderer-options]="mde.rendererOptions"></common-mark-entry> -->

        <!-- <common-mark-entry *ngIf="mde.skipDisplay == false" [delay]="(i === step)? 0 : delayInterval" [url]="mde.summaryUrl" [markdown]="mde.summaryContent"
          [img-prefix]="mde.imgPrefix" [debug-enabled]="mde.debugEnabled" [renderer-options]="mde.rendererOptions"></common-mark-entry> -->

        <div *ngIf="mde.skipDisplay == false" class="ngblog-summary-content">
          <div *ngIf="mde.showThumbnail(showPlaceholderThumbnail)" [style.margin]="thumbnailMargin" [style.padding]="thumbnailPadding"
            class="ngblog-thumbnail-block">
            <common-lazy-image [image-url]="mde.getThumbnail(getPlaceholderThumbnail(mde.title))" [alt-text]="mde.title" [delay]="(i === step)? 0 : delayInterval"
              [width]="thumbnailWidth"></common-lazy-image>
          </div>
          <div class="ngblog-summary-block">
            <common-mark-entry [delay]="(i === step) ? 0 : delayInterval" [url]="mde.summaryUrl" [markdown]="mde.summaryContent" [img-prefix]="mde.imgPrefix"
              [debug-enabled]="mde.debugEnabled" [renderer-options]="mde.rendererOptions"></common-mark-entry>
          </div>
          <!-- <div style="clear:both; font-size:1px;"></div> -->
        </div>

        <mat-action-row>
          <button color="primary" *ngIf="mde.hasContent" mat-icon-button matTooltip="Read more" (click)="openContentPage(i);">
            <mat-icon>message</mat-icon>
          </button>
          <span style="flex: 1 1 auto"></span>
          <button *ngIf="i > 0" mat-button color="primary" (click)="prevStep()">Previous</button>
          <button [disabled]="i >= docEntries.length-1" mat-button color="primary" (click)="nextStep()">Next</button>
        </mat-action-row>
      </mat-expansion-panel>

    </mat-accordion>
  </div>

  <mat-toolbar class="ngblog-site-footer" layout="row" color="accent">
    <mat-toolbar-row>
      <span *ngIf="displayContactWebsite" style="font-style: italic; font-size:0.9em;">
        <a mat-button [href]="contactWebsite">Copyright &copy;
          <common-date-year></common-date-year> {{siteInfo.name}}</a>
      </span>
      <span *ngIf="!displayContactWebsite" style="font-style: italic; font-size:0.9em;">
        Copyright &copy;
        <common-date-year></common-date-year> {{siteInfo.name}}
      </span>
      <span style="flex: 1 1 auto"></span>
      <span [hidden]="!isPaginationEnabled">
        <!-- <mat-chip-list>
          <button mat-icon-button color="primary" [disabled]="isInFirstPage" matTooltip="Previous Page" (click)="goToPreviousPage()">
            <mat-icon>keyboard_arrow_left</mat-icon>
          </button>
          <mat-chip color="primary" selected="true">{{pageIndicia}}</mat-chip>
          <button mat-icon-button color="primary" [disabled]="isInLastPage" matTooltip="Next Page" (click)="goToNextPage()">
            <mat-icon>keyboard_arrow_right</mat-icon>
          </button>
        </mat-chip-list> -->
      </span>
      <span style="flex: 1 1 auto"></span>
      <span *ngIf="displayContactEmail" style="font-style: italic; font-size:0.9em;">
        <a mat-button href="mailto:{{contactEmail}}">{{contactEmail}}</a>
      </span>
      <span style="font-style: italic; font-size:0.9em;">
        <mat-chip-list>
          <button mat-icon-button color="primary" [disabled]="isInFirstPage" matTooltip="Previous Page" (click)="goToPreviousPage()">
            <mat-icon>keyboard_arrow_left</mat-icon>
          </button>
          <mat-chip color="primary" selected="true">{{pageIndicia}}</mat-chip>
          <button mat-icon-button color="primary" [disabled]="isInLastPage" matTooltip="Next Page" (click)="goToNextPage()">
            <mat-icon>keyboard_arrow_right</mat-icon>
          </button>
        </mat-chip-list>
        <!-- <button *ngIf="showAdminButton" mat-icon-button color="" matTooltip="Admin" (click)="openAdminHome()">
          <mat-icon>security</mat-icon>
        </button> -->
      </span>
    </mat-toolbar-row>
  </mat-toolbar>

</div>